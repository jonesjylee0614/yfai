<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ©æ‰‹ç®¡ç†</title>
    <link rel="stylesheet" href="assets/common.css">
    <style>
        body {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* ä¾§è¾¹æ  */
        .sidebar {
            width: 60px;
            background: var(--bg-darker);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 0;
            transition: width 0.3s;
        }

        .sidebar:hover {
            width: 200px;
        }

        .sidebar-item {
            width: 100%;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            color: var(--text-secondary);
            text-decoration: none;
            white-space: nowrap;
        }

        .sidebar-item:hover {
            background: var(--bg-light);
            color: var(--text-primary);
        }

        .sidebar-item.active {
            background: var(--bg-light);
            color: var(--primary-color);
            border-left: 3px solid var(--primary-color);
        }

        .sidebar-icon {
            width: 24px;
            height: 24px;
            margin: 0 auto;
            font-size: 20px;
        }

        .sidebar:hover .sidebar-icon {
            margin: 0 12px 0 0;
        }

        .sidebar-text {
            display: none;
            font-size: 14px;
        }

        .sidebar:hover .sidebar-text {
            display: inline;
        }

        /* ä¸»å†…å®¹ */
        .main-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            height: 60px;
            background: var(--bg-dark);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .page-title {
            font-size: 18px;
            font-weight: 600;
        }

        .assistants-content {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .assistants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .assistant-card {
            background: var(--bg-light);
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .assistant-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }

        .assistant-card.active {
            border-color: var(--primary-color);
            background: rgba(24, 144, 255, 0.1);
        }

        .assistant-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .assistant-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .assistant-info {
            flex: 1;
        }

        .assistant-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .assistant-role {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .assistant-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 12px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .assistant-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            margin-bottom: 12px;
        }

        .assistant-tag {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            background: rgba(24, 144, 255, 0.2);
            color: var(--primary-color);
        }

        .assistant-stats {
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: var(--text-secondary);
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
        }

        .assistant-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .create-assistant-card {
            border: 2px dashed var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .create-assistant-card:hover {
            border-color: var(--primary-color);
            background: rgba(24, 144, 255, 0.05);
        }

        .create-icon {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .create-text {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--bg-dark);
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 24px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }

        .close-btn {
            cursor: pointer;
            font-size: 24px;
            color: var(--text-secondary);
        }

        .close-btn:hover {
            color: var(--text-primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .preset-prompts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 12px;
        }

        .preset-prompt {
            padding: 12px;
            background: var(--bg-light);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .preset-prompt:hover {
            border-color: var(--primary-color);
        }

        .preset-prompt-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .preset-prompt-name {
            font-size: 12px;
        }
    </style>
</head>
<body>
    <!-- å·¦ä¾§å¯¼èˆªæ  -->
    <div class="sidebar">
        <a href="index.html" class="sidebar-item">
            <span class="sidebar-icon">ğŸ’¬</span>
            <span class="sidebar-text">å¯¹è¯</span>
        </a>
        <a href="assistants.html" class="sidebar-item active">
            <span class="sidebar-icon">ğŸ¤–</span>
            <span class="sidebar-text">åŠ©æ‰‹</span>
        </a>
        <a href="sessions.html" class="sidebar-item">
            <span class="sidebar-icon">ğŸ“š</span>
            <span class="sidebar-text">ä¼šè¯</span>
        </a>
        <a href="knowledge.html" class="sidebar-item">
            <span class="sidebar-icon">ğŸ“–</span>
            <span class="sidebar-text">çŸ¥è¯†åº“</span>
        </a>
        <a href="tools-sidebar.html" class="sidebar-item">
            <span class="sidebar-icon">ğŸ› ï¸</span>
            <span class="sidebar-text">å·¥å…·</span>
        </a>
        <a href="logs.html" class="sidebar-item">
            <span class="sidebar-icon">ğŸ“‹</span>
            <span class="sidebar-text">æ—¥å¿—</span>
        </a>
        <a href="settings.html" class="sidebar-item">
            <span class="sidebar-icon">âš™ï¸</span>
            <span class="sidebar-text">è®¾ç½®</span>
        </a>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="main-container">
        <div class="header">
            <div class="page-title">ğŸ¤– AI åŠ©æ‰‹</div>
            <button class="btn btn-primary" onclick="openCreateModal()">â• åˆ›å»ºåŠ©æ‰‹</button>
        </div>

        <div class="assistants-content">
            <div class="assistants-grid" id="assistantsGrid">
                <!-- åŠ©æ‰‹å¡ç‰‡å°†åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- åˆ›å»º/ç¼–è¾‘åŠ©æ‰‹æ¨¡æ€æ¡† -->
    <div class="modal" id="assistantModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">åˆ›å»º AI åŠ©æ‰‹</div>
                <span class="close-btn" onclick="closeModal()">âœ–</span>
            </div>

            <form id="assistantForm">
                <div class="form-group">
                    <label class="form-label">åŠ©æ‰‹åç§°</label>
                    <input type="text" id="assistantName" placeholder="ä¾‹å¦‚ï¼šPython ç¼–ç¨‹åŠ©æ‰‹" required>
                </div>

                <div class="form-group">
                    <label class="form-label">è§’è‰²è®¾å®š</label>
                    <select id="assistantRole">
                        <option value="é€šç”¨åŠ©æ‰‹">é€šç”¨åŠ©æ‰‹</option>
                        <option value="ç¼–ç¨‹åŠ©æ‰‹">ç¼–ç¨‹åŠ©æ‰‹</option>
                        <option value="å†™ä½œåŠ©æ‰‹">å†™ä½œåŠ©æ‰‹</option>
                        <option value="ç¿»è¯‘åŠ©æ‰‹">ç¿»è¯‘åŠ©æ‰‹</option>
                        <option value="åˆ†æåŠ©æ‰‹">åˆ†æåŠ©æ‰‹</option>
                        <option value="è¿ç»´åŠ©æ‰‹">è¿ç»´åŠ©æ‰‹</option>
                        <option value="è‡ªå®šä¹‰">è‡ªå®šä¹‰</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">ç³»ç»Ÿæç¤ºè¯</label>
                    <textarea id="assistantPrompt" rows="6" placeholder="å®šä¹‰åŠ©æ‰‹çš„è¡Œä¸ºã€ä¸“é•¿å’Œå›ç­”é£æ ¼..."></textarea>
                    <div class="preset-prompts">
                        <div class="preset-prompt" onclick="loadPresetPrompt('python')">
                            <div class="preset-prompt-icon">ğŸ</div>
                            <div class="preset-prompt-name">Python ä¸“å®¶</div>
                        </div>
                        <div class="preset-prompt" onclick="loadPresetPrompt('writer')">
                            <div class="preset-prompt-icon">âœï¸</div>
                            <div class="preset-prompt-name">æ–‡æ¡ˆå†™ä½œ</div>
                        </div>
                        <div class="preset-prompt" onclick="loadPresetPrompt('translator')">
                            <div class="preset-prompt-icon">ğŸŒ</div>
                            <div class="preset-prompt-name">ä¸“ä¸šç¿»è¯‘</div>
                        </div>
                        <div class="preset-prompt" onclick="loadPresetPrompt('devops')">
                            <div class="preset-prompt-icon">âš™ï¸</div>
                            <div class="preset-prompt-name">DevOps å·¥ç¨‹å¸ˆ</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">æè¿°</label>
                    <textarea id="assistantDesc" rows="3" placeholder="ç®€çŸ­æè¿°åŠ©æ‰‹çš„åŠŸèƒ½å’Œç”¨é€”..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">é»˜è®¤æ¨¡å‹</label>
                    <select id="assistantModel">
                        <option value="qwen-plus">Qwen-Plus (ç™¾ç‚¼)</option>
                        <option value="qwen-max">Qwen-Max (ç™¾ç‚¼)</option>
                        <option value="llama3.1">Llama 3.1 (Ollama)</option>
                        <option value="qwen2.5-coder">Qwen 2.5 Coder (Ollama)</option>
                    </select>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                    <button type="submit" class="btn btn-primary">ä¿å­˜</button>
                </div>
            </form>
        </div>
    </div>

    <script src="assets/common.js"></script>
    <script>
        // åŠ©æ‰‹æ•°æ®ï¼ˆæµ‹è¯•æ ·ä¾‹ï¼‰
        const assistants = [
            {
                id: 1,
                name: 'Python ç¼–ç¨‹åŠ©æ‰‹',
                role: 'ç¼–ç¨‹åŠ©æ‰‹',
                avatar: 'ğŸ',
                desc: 'ä¸“ä¸šçš„ Python å¼€å‘åŠ©æ‰‹ï¼Œç²¾é€š Python è¯­æ³•ã€æœ€ä½³å®è·µã€å¸¸ç”¨åº“ï¼ˆpandas, numpy, Djangoç­‰ï¼‰å’Œä»£ç ä¼˜åŒ–ã€‚',
                prompt: 'ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ Python å¼€å‘ä¸“å®¶ï¼Œæ‹¥æœ‰ 10 å¹´ä»¥ä¸Šçš„å¼€å‘ç»éªŒã€‚ä½ ç²¾é€š Python è¯­æ³•ã€è®¾è®¡æ¨¡å¼ã€æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µã€‚',
                tags: ['Python', 'ç¼–ç¨‹', 'ä»£ç å®¡æŸ¥', 'æ€§èƒ½ä¼˜åŒ–'],
                model: 'qwen2.5-coder',
                usageCount: 156,
                lastUsed: '2å°æ—¶å‰',
                createdAt: '2025-11-01'
            },
            {
                id: 2,
                name: 'æŠ€æœ¯å†™ä½œåŠ©æ‰‹',
                role: 'å†™ä½œåŠ©æ‰‹',
                avatar: 'âœï¸',
                desc: 'å¸®åŠ©æ’°å†™æŠ€æœ¯æ–‡æ¡£ã€API æ–‡æ¡£ã€ç”¨æˆ·æŒ‡å—å’ŒæŠ€æœ¯åšå®¢ã€‚è¾“å‡ºæ¸…æ™°ã€ä¸“ä¸šã€æ˜“æ‡‚ã€‚',
                prompt: 'ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„æŠ€æœ¯å†™ä½œä¸“å®¶ï¼Œæ“…é•¿å°†å¤æ‚çš„æŠ€æœ¯æ¦‚å¿µè½¬åŒ–ä¸ºæ¸…æ™°æ˜“æ‡‚çš„æ–‡æ¡£ã€‚',
                tags: ['æŠ€æœ¯æ–‡æ¡£', 'Markdown', 'APIæ–‡æ¡£', 'åšå®¢'],
                model: 'qwen-plus',
                usageCount: 89,
                lastUsed: '1å¤©å‰',
                createdAt: '2025-10-28'
            },
            {
                id: 3,
                name: 'ä¸­è‹±ç¿»è¯‘ä¸“å®¶',
                role: 'ç¿»è¯‘åŠ©æ‰‹',
                avatar: 'ğŸŒ',
                desc: 'ç²¾å‡†çš„ä¸­è‹±æ–‡åŒå‘ç¿»è¯‘ï¼Œä¿æŒä¸“ä¸šæœ¯è¯­å‡†ç¡®æ€§ï¼Œé€‚åˆæŠ€æœ¯æ–‡æ¡£ã€è®ºæ–‡å’Œå•†åŠ¡æ²Ÿé€šã€‚',
                prompt: 'ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ä¸­è‹±æ–‡ç¿»è¯‘ä¸“å®¶ï¼Œç²¾é€šä¸¤ç§è¯­è¨€çš„è¡¨è¾¾ä¹ æƒ¯å’Œä¸“ä¸šæœ¯è¯­ã€‚',
                tags: ['ç¿»è¯‘', 'ä¸­è‹±äº’è¯‘', 'æŠ€æœ¯æœ¯è¯­'],
                model: 'qwen-max',
                usageCount: 234,
                lastUsed: '30åˆ†é’Ÿå‰',
                createdAt: '2025-10-15'
            },
            {
                id: 4,
                name: 'DevOps è¿ç»´åŠ©æ‰‹',
                role: 'è¿ç»´åŠ©æ‰‹',
                avatar: 'âš™ï¸',
                desc: 'Kubernetesã€Dockerã€CI/CDã€ç›‘æ§å‘Šè­¦ç­‰è¿ç»´é—®é¢˜ä¸“å®¶ã€‚æä¾›æœ€ä½³å®è·µå’Œæ•…éšœæ’æŸ¥å»ºè®®ã€‚',
                prompt: 'ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ DevOps å·¥ç¨‹å¸ˆï¼Œç²¾é€šå®¹å™¨åŒ–ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€ç›‘æ§å’Œæ•…éšœæ’æŸ¥ã€‚',
                tags: ['DevOps', 'K8s', 'Docker', 'CI/CD'],
                model: 'qwen-plus',
                usageCount: 67,
                lastUsed: '5å°æ—¶å‰',
                createdAt: '2025-11-05'
            },
            {
                id: 5,
                name: 'SQL æ•°æ®åˆ†æå¸ˆ',
                role: 'åˆ†æåŠ©æ‰‹',
                avatar: 'ğŸ“Š',
                desc: 'æ“…é•¿ SQL æŸ¥è¯¢ã€æ•°æ®åˆ†æå’Œå¯è§†åŒ–å»ºè®®ã€‚å¸®åŠ©ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ï¼Œè®¾è®¡æ•°æ®æ¨¡å‹ã€‚',
                prompt: 'ä½ æ˜¯ä¸€ä½èµ„æ·±çš„æ•°æ®åˆ†æå¸ˆï¼Œç²¾é€š SQLã€æ•°æ®å»ºæ¨¡å’Œæ•°æ®å¯è§†åŒ–ã€‚',
                tags: ['SQL', 'æ•°æ®åˆ†æ', 'BI', 'æŸ¥è¯¢ä¼˜åŒ–'],
                model: 'qwen-plus',
                usageCount: 45,
                lastUsed: '3å¤©å‰',
                createdAt: '2025-10-20'
            },
            {
                id: 6,
                name: 'å‰ç«¯å¼€å‘åŠ©æ‰‹',
                role: 'ç¼–ç¨‹åŠ©æ‰‹',
                avatar: 'ğŸ¨',
                desc: 'Reactã€Vueã€TypeScript å‰ç«¯å¼€å‘ä¸“å®¶ã€‚æä¾›ç»„ä»¶è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µå»ºè®®ã€‚',
                prompt: 'ä½ æ˜¯ä¸€ä½èµ„æ·±çš„å‰ç«¯å¼€å‘ä¸“å®¶ï¼Œç²¾é€šç°ä»£å‰ç«¯æŠ€æœ¯æ ˆå’Œ UI/UX è®¾è®¡ã€‚',
                tags: ['React', 'Vue', 'TypeScript', 'CSS'],
                model: 'qwen2.5-coder',
                usageCount: 123,
                lastUsed: '6å°æ—¶å‰',
                createdAt: '2025-11-03'
            }
        ];

        // é¢„è®¾æç¤ºè¯
        const presetPrompts = {
            python: `ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ Python å¼€å‘ä¸“å®¶ï¼Œæ‹¥æœ‰ 10 å¹´ä»¥ä¸Šçš„å¼€å‘ç»éªŒã€‚

ä½ çš„èŒè´£ï¼š
- æä¾›æ¸…æ™°ã€å¯ç»´æŠ¤çš„ Python ä»£ç 
- è§£é‡Šå¤æ‚æ¦‚å¿µå’Œæœ€ä½³å®è·µ
- è¿›è¡Œä»£ç å®¡æŸ¥å’Œæ€§èƒ½ä¼˜åŒ–
- æ¨èåˆé€‚çš„åº“å’Œå·¥å…·

ä½ çš„å›ç­”é£æ ¼ï¼š
- å…ˆç»™å‡ºç®€æ´çš„ç­”æ¡ˆï¼Œç„¶åè¯¦ç»†è§£é‡Š
- æä¾›å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹
- æŒ‡å‡ºå¸¸è§é™·é˜±å’Œæ³¨æ„äº‹é¡¹
- éµå¾ª PEP 8 å’Œ Python æœ€ä½³å®è·µ`,

            writer: `ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„æŠ€æœ¯å†™ä½œä¸“å®¶ï¼Œæ“…é•¿å°†å¤æ‚çš„æŠ€æœ¯æ¦‚å¿µè½¬åŒ–ä¸ºæ¸…æ™°æ˜“æ‡‚çš„æ–‡æ¡£ã€‚

ä½ çš„ä¸“é•¿ï¼š
- API æ–‡æ¡£å’Œç”¨æˆ·æŒ‡å—
- æŠ€æœ¯åšå®¢å’Œæ•™ç¨‹
- README å’Œé¡¹ç›®è¯´æ˜
- æŠ€æœ¯ç™½çš®ä¹¦

ä½ çš„å†™ä½œåŸåˆ™ï¼š
- ç»“æ„æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜
- ä½¿ç”¨ç®€å•æ˜äº†çš„è¯­è¨€
- æä¾›å®é™…ä¾‹å­å’Œä»£ç ç¤ºä¾‹
- é¢å‘ç›®æ ‡è¯»è€…è°ƒæ•´æ·±åº¦`,

            translator: `ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ä¸­è‹±æ–‡ç¿»è¯‘ä¸“å®¶ï¼Œç²¾é€šä¸¤ç§è¯­è¨€çš„è¡¨è¾¾ä¹ æƒ¯å’Œä¸“ä¸šæœ¯è¯­ã€‚

ç¿»è¯‘åŸåˆ™ï¼š
- å‡†ç¡®ä¼ è¾¾åŸæ–‡å«ä¹‰
- ä¿æŒä¸“ä¸šæœ¯è¯­çš„å‡†ç¡®æ€§
- ç¬¦åˆç›®æ ‡è¯­è¨€çš„è¡¨è¾¾ä¹ æƒ¯
- ä¿ç•™åŸæ–‡çš„è¯­æ°”å’Œé£æ ¼

ç‰¹åˆ«æ³¨æ„ï¼š
- æŠ€æœ¯æœ¯è¯­ä¿æŒä¸€è‡´æ€§
- ä»£ç å’Œå‘½ä»¤ä¸ç¿»è¯‘
- ä¿ç•™åŸæ–‡æ ¼å¼å’Œç»“æ„`,

            devops: `ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ DevOps å·¥ç¨‹å¸ˆï¼Œç²¾é€šäº‘åŸç”ŸæŠ€æœ¯æ ˆå’Œè‡ªåŠ¨åŒ–è¿ç»´ã€‚

æŠ€æœ¯æ ˆï¼š
- Kubernetesã€Docker
- CI/CDï¼ˆJenkinsã€GitLab CIã€GitHub Actionsï¼‰
- ç›‘æ§å‘Šè­¦ï¼ˆPrometheusã€Grafanaï¼‰
- æ—¥å¿—ç®¡ç†ï¼ˆELKã€Lokiï¼‰

ä½ çš„èŒè´£ï¼š
- è®¾è®¡å’Œä¼˜åŒ– CI/CD æµç¨‹
- è§£å†³å®¹å™¨åŒ–å’Œç¼–æ’é—®é¢˜
- æä¾›ç›‘æ§å’Œå‘Šè­¦æ–¹æ¡ˆ
- è¿›è¡Œæ•…éšœæ’æŸ¥å’Œæ€§èƒ½è°ƒä¼˜

ä½ çš„å»ºè®®éµå¾ªï¼š
- å®‰å…¨ç¬¬ä¸€
- è‡ªåŠ¨åŒ–ä¼˜å…ˆ
- é«˜å¯ç”¨å’Œå®¹é”™è®¾è®¡
- æˆæœ¬ä¼˜åŒ–`
        };

        // åˆå§‹åŒ–
        window.onload = function() {
            renderAssistants();
        };

        // æ¸²æŸ“åŠ©æ‰‹åˆ—è¡¨
        function renderAssistants() {
            const grid = document.getElementById('assistantsGrid');
            grid.innerHTML = '';

            // åˆ›å»ºæ–°åŠ©æ‰‹å¡ç‰‡
            const createCard = document.createElement('div');
            createCard.className = 'assistant-card create-assistant-card';
            createCard.onclick = openCreateModal;
            createCard.innerHTML = `
                <div class="create-icon">â•</div>
                <div class="create-text">åˆ›å»ºæ–°åŠ©æ‰‹</div>
            `;
            grid.appendChild(createCard);

            // æ¸²æŸ“ç°æœ‰åŠ©æ‰‹
            assistants.forEach(assistant => {
                const card = document.createElement('div');
                card.className = 'assistant-card';
                card.innerHTML = `
                    <div class="assistant-header">
                        <div class="assistant-avatar">${assistant.avatar}</div>
                        <div class="assistant-info">
                            <div class="assistant-name">${assistant.name}</div>
                            <div class="assistant-role">${assistant.role}</div>
                        </div>
                    </div>
                    <div class="assistant-desc">${assistant.desc}</div>
                    <div class="assistant-tags">
                        ${assistant.tags.map(tag => `<span class="assistant-tag">${tag}</span>`).join('')}
                    </div>
                    <div class="assistant-stats">
                        <span>ğŸ’¬ ä½¿ç”¨ ${assistant.usageCount} æ¬¡</span>
                        <span>ğŸ• ${assistant.lastUsed}</span>
                    </div>
                    <div class="assistant-actions">
                        <button class="btn btn-primary btn-small" onclick="useAssistant(${assistant.id}); event.stopPropagation();">
                            å¼€å§‹å¯¹è¯
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="editAssistant(${assistant.id}); event.stopPropagation();">
                            ç¼–è¾‘
                        </button>
                        <button class="btn btn-danger btn-small" onclick="deleteAssistant(${assistant.id}); event.stopPropagation();">
                            åˆ é™¤
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // æ‰“å¼€åˆ›å»ºæ¨¡æ€æ¡†
        function openCreateModal() {
            document.getElementById('modalTitle').textContent = 'åˆ›å»º AI åŠ©æ‰‹';
            document.getElementById('assistantForm').reset();
            document.getElementById('assistantModal').classList.add('show');
        }

        // å…³é—­æ¨¡æ€æ¡†
        function closeModal() {
            document.getElementById('assistantModal').classList.remove('show');
        }

        // åŠ è½½é¢„è®¾æç¤ºè¯
        function loadPresetPrompt(type) {
            document.getElementById('assistantPrompt').value = presetPrompts[type] || '';
        }

        // ä½¿ç”¨åŠ©æ‰‹
        function useAssistant(id) {
            const assistant = assistants.find(a => a.id === id);
            if (assistant) {
                Storage.set('currentAssistant', assistant);
                window.location.href = 'index.html';
            }
        }

        // ç¼–è¾‘åŠ©æ‰‹
        function editAssistant(id) {
            const assistant = assistants.find(a => a.id === id);
            if (assistant) {
                document.getElementById('modalTitle').textContent = 'ç¼–è¾‘åŠ©æ‰‹';
                document.getElementById('assistantName').value = assistant.name;
                document.getElementById('assistantRole').value = assistant.role;
                document.getElementById('assistantPrompt').value = assistant.prompt;
                document.getElementById('assistantDesc').value = assistant.desc;
                document.getElementById('assistantModel').value = assistant.model;
                document.getElementById('assistantModal').classList.add('show');
            }
        }

        // åˆ é™¤åŠ©æ‰‹
        function deleteAssistant(id) {
            const assistant = assistants.find(a => a.id === id);
            Utils.confirm(`ç¡®å®šè¦åˆ é™¤åŠ©æ‰‹"${assistant.name}"å—ï¼Ÿ`, () => {
                const index = assistants.findIndex(a => a.id === id);
                assistants.splice(index, 1);
                renderAssistants();
                Utils.showToast('åŠ©æ‰‹å·²åˆ é™¤', 'success');
            });
        }

        // è¡¨å•æäº¤
        document.getElementById('assistantForm').onsubmit = function(e) {
            e.preventDefault();
            const formData = {
                name: document.getElementById('assistantName').value,
                role: document.getElementById('assistantRole').value,
                prompt: document.getElementById('assistantPrompt').value,
                desc: document.getElementById('assistantDesc').value,
                model: document.getElementById('assistantModel').value
            };

            Utils.showToast('åŠ©æ‰‹å·²ä¿å­˜', 'success');
            closeModal();
            // è¿™é‡Œåº”è¯¥ä¿å­˜åˆ°åç«¯æˆ–æœ¬åœ°å­˜å‚¨
        };

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.getElementById('assistantModal').onclick = function(e) {
            if (e.target === this) {
                closeModal();
            }
        };
    </script>
</body>
</html>

